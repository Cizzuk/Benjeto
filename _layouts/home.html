---
layout: base
---
{%- assign default-subs-link = site.feed.path | default: 'feed.xml' | absolute_url -%}
{%- if page.subscribe-link -%}
  {%- assign subs-link = page.subscribe-link | default: default-subs-link -%}
{%- elsif site.home.subscribe-link -%}
  {%- assign subs-link = site.home.subscribe-link | default: default-subs-link -%}
{%- else -%}
  {%- assign subs-link = default-subs-link -%}
{%- endif -%}

{%- if page.profile.name -%}
  {%- assign name = page.profile.name -%}
{%- elsif site.profile.name -%}
  {%- assign name = site.profile.name -%}
{%- else -%}
  {%- assign name = site.title -%}
{%- endif -%}

{%- if page.profile.icon -%}
  {%- assign icon = page.profile.icon -%}
{%- elsif site.profile.icon -%}
  {%- assign icon = site.profile.icon -%}
{%- endif -%}

{%- if page.profile.icon -%}
  {%- assign icon = page.profile.icon -%}
{%- elsif site.profile.icon -%}
  {%- assign icon = site.profile.icon -%}
{%- endif -%}


<main>
<header class="home">
  <div class="headline">
    <img class="icon" src="{{ icon }}" alt="{{ name }}">
	<div class="sidebutton">
	{%- if site.home.subscribe-button == true %}
      <a href="{{ subs-link }}" class="subscribe">{{ site.text.subscribe }}</a>
	{%- endif %}
	{%- if site.profile.contact.url %}
      <a class="contact" href="{{ site.profile.contact.url }}" title="{{ site.profile.contact.name | default: Contact}}">{{ site.profile.contact.name }}</a>
    {%- endif -%}
	</div>
  </div>
  {%- if site.profile.header %}
    <img class="header" src="{{ site.profile.header }}" alt="" aria-hidden>
  {%- endif %}
    <h1>{{ name }}</h1>
  {%- if site.profile.pronouns %}
    <span class="pronouns">{{ site.profile.pronouns }}</span>
  {%- endif %}
  {%- if site.profile.bio %}
    <p class="bio">{{ site.profile.bio }}</p>
  {%- endif %}
  <ul class="exlink">
  {%- if site.profile.links -%}
  {%- for entry in site.profile.links -%}
    {%- include exlink.html item = entry -%}
  {%- endfor -%}
  {%- endif -%}
  </ul>
</header>
{{ content }}
{%- if site.paginate and paginator.posts != nil -%}
  {%- assign posts = paginator.posts -%}
{%- else -%}
  {%- assign posts = site.posts -%}
{%- endif -%}

{%- if posts.size > 0 %}
<ul class="post-list">
  {%- if page.date-format %}
    {%- assign date-format = page.date-format -%}
  {%- else %}
    {%- assign date-format = site.date-format | default: "%Y-%m-%d" -%}
  {%- endif %}
  {%- for post in posts -%}
  {%- if post.hidden != true %}
  <li class="post">
    <a class="post-link" href="{{ post.url | relative_url }}">
      {%- if post.untitled != true %}
      <h2>{{ post.title | escape }}</h2>
      {%- endif %}
      {%- if post.untitled == true or site.home.show-excerpts == true %}
      <span class="post-excerpt">{{ post.excerpt }}
      </span>
      {%- endif %}
      <time class="post-time">{{- post.date | date: date-format -}}</time>
    </a>
  </li>
  {%- endif %}
{%- endfor %}
</ul>

{%- if site.paginate %}
<div class="paginate">
  {%- if paginator.previous_page %}
  <a href="{{ paginator.previous_page_path | relative_url }}" class="back">{{ site.text.paginate-back }}</a>
  {%- else %}
  <span class="back">{{ site.text.paginate-back }}</span>
  {%- endif %}
  {%- if paginator.next_page %}
  <a href="{{ paginator.next_page_path | relative_url }}" class="next">{{ site.text.paginate-next }}</a>
  {%- else %}
  <span class="next">{{ site.text.paginate-next }}</span>
  {%- endif %}
</div>
{%- endif %}
{%- endif -%}

</main>
