---
layout: base
---
{%- assign profile = site.data.profile -%}
{%- assign texts = site.data.texts -%}
{%- assign settings = site.data.settings -%}
{%- if profile.header %}
<div class="header"><img src="{{ profile.header | relative_url }}" alt aria-hidden></div>
{%- endif %}

<main>
<header class="home">
  <div class="headline{% if profile.header and profile.icon == nil %} no-img{% endif %}">
    {%- if profile.icon %}
    <a class="proficon{% if settings.round_icon == true %} round{% endif %}{% if profile.header == nil %} no-header{% endif %}" href="{{ "/" | relative_url }}"><img src="{{ profile.icon | relative_url }}" alt="{{ profile.name }}"></a>
    {%- include menu.html %}
	{%- endif %}
  </div>
  <h1 itemprop="name">{{ profile.name | default: site.title }}</h1>
  {%- if profile.pronouns %}
  <span class="pronouns" itemprop="pronouns">{{ profile.pronouns }}</span>
  {%- endif %}
  {%- if profile.bio %}
  <p class="bio">{{ profile.bio }}</p>
  {%- endif %}
  <ul class="exlink">
  {%- if profile.links -%}
  {%- for entry in profile.links -%}
    {%- include exlink.html item = entry -%}
  {%- endfor -%}
  {%- endif -%}
  </ul>
  {%- unless profile.icon %}
  <div class="headline">
    {%- include menu.html %}
  </div>
  {%- endunless %}
</header>
{%- if profile == nil %}
  <p style="font-weight:bold">
  You must create your profile in _data_benjeto/profile.yml.
  <br><a href="https://benjeto.tsg0o0.com/2024/05/10/how-to-setup.html">See Benjeto documentation for more information.</a>
  </p>
{%- endif -%}

{%- if site.paginate == nil and page.pagination.enabled == true -%}
  {%- assign posts = paginator.posts -%}
{%- else -%}
  {%- if page.pagination.tag %}
    {%- assign posts = site.tags[page.pagination.tag] -%}
  {%- elsif page.pagination.category -%}
    {%- assign posts = site.categories[page.pagination.category] -%}
  {%- else -%}
    {%- assign posts = site.posts -%}
  {%- endif -%}
  {%- if site.paginate == nil or paginator.page == nil %}
    {%- assign max_posts = settings.home.max_posts -%}
    {%- assign posts = posts | slice: 0, max_posts -%}
  {%- endif -%}
{%- endif -%}

{%- if posts.size > 0 %}
<section class="post-list" role="feed">
  {%- for post in posts -%}
  {%- if post.hidden != true %}
  {%- include postbox-feed.html post=post %}
  {%- endif %}
  {%- endfor %}
</section>

{%- if site.paginate or site.pagination %}
{%- if paginator.total_pages > 1 %}
<section class="paginate">
  {%- if paginator.previous_page %}
  <a href="{{ paginator.previous_page_path | relative_url }}" class="back" role="button">{{ texts.paginate_back | default: "Back" }}</a>
  {%- else %}
  <span class="back" aria-disabled>{{ texts.paginate_back | default: "Back" }}</span>
  {%- endif %}
  <span class="current">{{ paginator.page }} / {{ paginator.total_pages }}</span>
  {%- if paginator.next_page %}
  <a href="{{ paginator.next_page_path | relative_url }}" class="next" role="button">{{ texts.paginate_next | default: "Next" }}</a>
  {%- else %}
  <span class="next" aria-disabled>{{ texts.paginate_next | default: "Next" }}</span>
  {%- endif %}
</section>
{%- endif %}
{%- endif %}

{%- if settings.home.share_button == true %}
<script src="{{ "/assets/js/share.js" | relative_url }}"></script>
{%- endif -%}

{%- else -%}
<div class="custom-home">
{{ content }}
</div>
{%- endif -%}

</main>

